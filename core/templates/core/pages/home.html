{% extends "core/base.html" %}

{% block mainSection %}
<div class='full-width tbg' id='bannerhead1' style='height: 400px'>
    <div id="bg-wrapper">
        <div class="bg1" style="z-index: 1"></div>
        <div class="bg2" style="z-index: 2"></div>
    </div>
</div>
<div class='full-width bg-c-white' style="">
    <div class='row' style='padding-top: 20px; height: 600px'>
        <div class='columns small-16'>
            <h2 class='' style='color: #8f3d15'>ჩვენი ხედვა</h2>
            <ul>
                <li>ჩვენ ვაშენებთ ხარისხიანად</li>
                <li>ჩვენი ფასი ყოველთვის საბაზროა</li>
                <li>ჩვენ გვიყვარს ჩვენი კლიენტები</li>
                <li>ჩვენი წარმატება ჩვენი საიდუმლოა</li>
            </ul>
        </div>
        <div class='columns small-8'>
            <!--<h2 class='caption t-c-wood'>კონტაქტი</h2>t-c-wood t-c-darkbrown
            bg-c-warmgraylight bg-c-warmgraylight -->
            <div style='border-radius: 4px; background-color: #94715B;'>
            </div>
        </div>
    </div>
</div>
<div class='full-width bg-c-pastelcream'>
    <div class='row' style='padding-top: 30px'>
        <div class='columns small-24' style='height: 200px'>

        </div>
    </div>
</div>
<div class='full-width bg-c-pastelcream'>
    <div class='row' style='padding-top: 30px'>
        <div class='columns small-24' style='height: 200px'>

        </div>
    </div>
</div>
<!--<div class='full-width bg-c-warmgray'>
    <div class='row'>
        <div class='columns small-24' style='height: 400px'>
            Hello World
        </div>
    </div>
</div>-->
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script>

    var bg1 = $('#bannerhead1 .bg1'),
        bg2 = $('#bannerhead1 .bg2');

    var backgrounds = new Array(
            'url(../../media/images/banners/1.jpg)',
            'url(../../media/images/banners/2.jpg)',
            'url(../../media/images/banners/3.jpg)',
            'url(../../media/images/banners/4.jpg)',
            'url(../../media/images/banners/6.jpg)'
    );
    var bgChangeInterval;
    var current = 0, next = 0;
    bg1.css('background-image', backgrounds[1]);
    bg2.css('background-image', backgrounds[0]);
    function nextBackground() {
        current = next;
        next++;
        next = next % backgrounds.length;
        bg1.css('opacity', '0.0').css('z-index', 2);
        bg2.css('z-index', '1');
        bg1.fadeTo(1000, 1, function () {
            //bg2.css('background-image', backgrounds[next]).css('z-index', 2);
            bg2.css('background-image', backgrounds[(next + 1) % backgrounds.length]);
            var t = bg2;
            bg2 = bg1;
            bg1 = t;
        });<dd
    }

    var bgChangeInterval;
    function startBgChanger() {
        bgChangeInterval = window.setInterval(nextBackground, 8000);
    }
    function stopBgChanger() {
        window.clearInterval(bgChangeInterval);
    }

    window.addEventListener('focus', startBgChanger);
    window.addEventListener('blur', stopBgChanger);

    $(document).ready(function() {
        startBgChanger();
    });


    var y = 0, minY = -200, maxY = 0, speed = 0.05, prevTime = null, deltaTime = 0;

    window.requestAnimationFrame(animate);

    function animate (time) {
        window.requestAnimationFrame(animate);

        if (prevTime !== null) {
            deltaTime = time - prevTime;
        }
        prevTime = time;

        y -= deltaTime * speed;
        if (y <= minY) {
            y = minY;
            speed *= -1;
        }

        if (y >= maxY) {
            y = maxY;
            speed *= -1;
        }

        bg1[0].style.transform = ['translate3d(0, ' + y +'px, 0)'];

        bg2[0].style.transform = ['translate3d(0, ' + y +'px, 0)'];


    };

</script>


{% endblock %}